<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="Study {{ category_data.display_name }} - {{ category_data.description }}">
    <meta name="theme-color" content="#1e40af">
    
    <!-- PWA Meta Tags -->
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    <meta name="apple-mobile-web-app-title" content="Study Hub">
    
    <title>{{ category_data.display_name }} - Nurse Success Study Hub</title>
    
    <!-- Manifest & Icons -->
    <link rel="manifest" href="/static/manifest.json">
    <link rel="icon" type="image/png" sizes="192x192" href="/static/icons/icon-192.png">
    <link rel="apple-touch-icon" href="/static/icons/icon-180.png">
    
    <!-- Styles -->
    <link rel="stylesheet" href="/static/style.css">
    <link rel="stylesheet" href="/static/category-style.css">
</head>
<body>
    <!-- Header -->
    <header class="app-header category-header">
        <div class="header-content">
            <a href="/" class="back-button" aria-label="Back to home">
                <span class="back-icon">‚Üê</span>
            </a>
            
            <div class="header-text">
                <h1 class="category-title">{{ category_data.display_name }}</h1>
                <p class="category-info">{{ category_data.description }}</p>
            </div>
        </div>
    </header>

    <!-- Main Content -->
    <main class="container">
        <!-- Offline Indicator -->
        <div id="offline-indicator" class="offline-banner" style="display: none;">
            <span class="offline-icon">üì°</span>
            <span class="offline-text">You're offline - content from cache</span>
        </div>

        <!-- Quizzes Section -->
        <section class="quizzes-section">
            <h2 class="section-title">Available Quizzes ({{ quizzes|length }})</h2>
            
            <div class="quizzes-grid">
                {% for quiz in quizzes %}
                <!-- Quiz Card -->
                <a href="/quiz/{{ category_name }}/{{ quiz.id }}" 
                   class="quiz-card"
                   role="button" tabindex="0"
                   aria-label="Start {{ quiz.name }} quiz">
                    
                    <!-- Card Icon/Number -->
                    <div class="quiz-icon">
                        <span class="icon-number">{{ loop.index }}</span>
                    </div>
                    
                    <!-- Card Content -->
                    <div class="quiz-content">
                        <h3 class="quiz-name">{{ quiz.name }}</h3>
                        <div class="quiz-footer">
                            <span class="quiz-label">Start Quiz</span>
                            <span class="quiz-arrow">‚Üí</span>
                        </div>
                    </div>
                </a>
                {% endfor %}
            </div>
            
            <!-- Empty State (if no quizzes) -->
            {% if not quizzes %}
            <div class="empty-state">
                <div class="empty-icon">üì≠</div>
                <h3>No quizzes available</h3>
                <p>Check back soon for more study materials</p>
                <a href="/" class="btn btn-primary">Back to Home</a>
            </div>
            {% endif %}
        </section>

        <!-- Tips Section -->
        <section class="tips-section">
            <h2 class="section-title">Study Tips</h2>
            
            <div class="tips-grid">
                <div class="tip-card">
                    <div class="tip-number">1</div>
                    <h3>Take Your Time</h3>
                    <p>Read each question carefully and review the rationales to understand why answers are correct</p>
                </div>
                
                <div class="tip-card">
                    <div class="tip-number">2</div>
                    <h3>Repeat Missed Questions</h3>
                    <p>Use the "Retry Missed" feature to focus on questions you found challenging</p>
                </div>
                
                <div class="tip-card">
                    <div class="tip-number">3</div>
                    <h3>Track Progress</h3>
                    <p>Monitor your scores across quizzes to identify improvement areas and measure growth</p>
                </div>
                
                <div class="tip-card">
                    <div class="tip-number">4</div>
                    <h3>Study Offline</h3>
                    <p>The app works without internet - download the quizzes and study anywhere, anytime</p>
                </div>
            </div>
        </section>
    </main>

    <!-- Footer -->
    <footer class="app-footer">
        <div class="footer-content">
            <p>&copy; 2024 Nurse Success Study Hub. Built for nursing excellence.</p>
        </div>
    </footer>

    <!-- Scripts -->
    <script>
        // Offline detection
        function updateOnlineStatus() {
            const indicator = document.getElementById('offline-indicator');
            if (navigator.onLine) {
                indicator.style.display = 'none';
            } else {
                indicator.style.display = 'flex';
            }
        }

        window.addEventListener('online', updateOnlineStatus);
        window.addEventListener('offline', updateOnlineStatus);
        updateOnlineStatus();

        // Keyboard navigation
        document.querySelectorAll('.quiz-card').forEach(card => {
            card.addEventListener('keydown', function(event) {
                if (event.key === 'Enter' || event.key === ' ') {
                    event.preventDefault();
                    this.click();
                }
            });
        });

        // Back button
        document.querySelector('.back-button').addEventListener('click', function(e) {
            e.preventDefault();
            window.history.back();
        });
    </script>
</body>
</html>
